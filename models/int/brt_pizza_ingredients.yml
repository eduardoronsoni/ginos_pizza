version: 2

models:
  - name: bridge_pizza_ingredients
    description: 'Bridge table relating pizzas and their ingredients using surrogate keys'

    columns:
      - name: fk_pizza
        description: 'Foreign key to dim_pizzas'
        tests:
          - not_null

      - name: fk_ingredient
        description: 'Foreign key to dim_ingredients'
        tests:
          - not_null

    tests:
      - dbt_utils.unique_combination_of_columns:
          combination_of_columns:
            - fk_pizza
            - fk_ingredient
